  <!DOCTYPE html>
  <html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Ä°NCÄ°ÅžKOMA ASKÄ°MA BÄ°RTANEMEEE</title>
  </head>
  <body>
  
    <div id="uyari">Maalesef ki site yatay pozisyon desteklemiyor lÃ¼tfen dikey yap :((</div>
    <div id="icerik">
        <img src="img/kedi.gif" alt="Gif" style="width: 150px; margin-bottom: -30px;">
      <h1 id="soru">pst baksana.. Beni seviyon muuu??</h1>
 <div class="butonlar">
  <button id="evet">Evet</button>
  <button id="hayir">HayÄ±r</button>
</div>
<button id="videoButon">Bildirimleri AÃ§</button>

<div id="tasarimYazisi">Made with ðŸ’˜ by Mert BakÄ±r</div>
    </div>
  
    <div id="cevap">Bende seni Ã§ok seviyorum!</div>
    <div id="mesaj">
      Ä°ncim aÅŸkÄ±m birtanem bende seni Ã§ok seviyorum. Bu hiÃ§bir zaman da deÄŸiÅŸmeyecek.  
      Senin bir mutluluÄŸun, bir gÃ¼lÃ¼ÅŸÃ¼n iÃ§in her ÅŸeyi yaparÄ±m.  
      Ä°yi ki varsÄ±n canÄ±m sevgilim, iyi ki bugÃ¼nlerimi senle geÃ§iriyorum.  
      Ä°nÅŸallah her zaman da birlikte geÃ§iririz.  
      Beni bazen deli ediyon, sinirlendiriyon, Ã¼zÃ¼yon, mutlu edi- ohh yazarken yoruldum...  
      Her neyse ben seni her zaman seveceÄŸim.  
      Bana ne yaÅŸatÄ±rsan yaÅŸat seni hiÃ§bir zaman bÄ±rakmayacaÄŸÄ±m.
    </div>
  
    <img id="arka" src="img/inciandme.jpg" alt="Arka Plan">
  
  
  
<div id="sesKontrolKapsayici" style="display: none; flex-direction: row; justify-content: center; align-items: center; gap: 10px; position: fixed; top: 0; left: 50%; transform: translateX(-50%); z-index: 1000; text-align: center; background: transparent; padding: 8px 0;">
  <div id = "sarkiBaslik" style="color: white; font-size: 19px; font-weight: bold; text-shadow: 2px 2px 4px black; margin-right: 15px; white-space: nowrap;">
    ðŸŽ§ TatlÄ±yla Balla - YalÄ±n ðŸŽ§
  </div>
  <button id="sesKapat" style="padding: 8px 16px; font-size: 13px; cursor: pointer; background-color: red; color: white; border: none; border-radius: 8px;">
    ÅžarkÄ±yÄ± Kapat
  </button>
  <button id="sarkiDegistir" style="padding: 8px 16px; font-size: 13px; cursor: pointer; background-color: #444; color: white; border: none; border-radius: 8px;">
    ÅžarkÄ±yÄ± DeÄŸiÅŸtir
  </button>
</div>
<audio id="sarki" src="img/sarki.mp3"></audio>

<style>
      * {
        box-sizing: border-box;
      }
  
      body {
        margin: 0;
        padding: 0;
        font-family: Arial, sans-serif;
        height: 100vh;
        overflow: hidden;
        background-color: #fff0f5;
      }
  
      #uyari {
        display: none;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 20px;
        color: red;
        text-align: center;
        z-index: 999;
        background: white;
        padding: 20px;
        border-radius: 10px;
      }
  
      #icerik {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
        height: 100vh;
        padding: 20px;
        z-index: 2;
      }
  
      #soru {
    margin-top: 50px;
    margin-bottom: 30px;
  }
  
      .butonlar {
        display: flex;
        justify-content: space-around;
        gap: 20px;
        margin-top: 0px;
      }
  
      button {
      padding: 10px 20px;
      font-size: 18px;
      cursor: pointer;
      position: relative;
      z-index: 2;
      border: none;
      border-radius: 8px;
    }
  
      #cevap {
        display: none;
        position: absolute;
        top: 35%;
        width: 100%;
        text-align: center;
        font-size: 24px;
        font-weight: bold;
        color: white;
        text-shadow: 2px 2px 4px black;
        animation: renkDegisimi 5s infinite;
        z-index: 2;
      }
  
      #mesaj {
        display: none;
        position: absolute;
        top: 40%;
        left: 50%;
        transform: translateX(-50%);
        width: 90%;
        max-width: 500px;
        padding: 10px;
        text-align: center;
        font-size: 18px;
        font-weight: bold;
        color: white;
        text-shadow: 2px 2px 4px black;
        z-index: 2;
      }
      
    #evet {
    background-color: green;
    color: white;
    border: none;
  }
  
  
      #hayir {
        background-color: red;
        color: white;
        position: center;
        left: 20%;
        top: 50%;
        transform: translate(-50%, -50%);
      }
  
  
      @keyframes renkDegisimi {
        0% { color: red; }
        20% { color: orange; }
        40% { color: yellow; }
        60% { color: green; }
        80% { color: blue; }
        100% { color: violet; }
      }
  
      #arka {
        display: none;
        position: absolute;
        top: 0; left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        z-index: 0;
      }
      
  
#sesKontrolKapsayici {
  display: flex;
  flex-direction: row; /* Yatay dizilim */
  justify-content: center; /* Ortala */
  align-items: center;
  gap: 10px; /* Butonlar arasÄ±nda boÅŸluk */
  position: fixed;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  z-index: 1000;
  text-align: center;
  background: transparent; /* istersen arkaplan ekle */
  padding: 8px 0;
}

      
#videoButon {
  margin-top: 30px;
  background-color: blue;
  color: white;
  padding: 10px 20px;
  text-decoration: none;
  font-size: 18px;
  border-radius: 8px;
  transition: background-color 0.3s ease;
}

#videoButon:hover {
  background-color: #333;
}

#sarkiBaslik {
  margin-bottom: 10px; /* istediÄŸin kadar artÄ±rabilirsin, Ã¶rneÄŸin 20px */
}

#tasarimYazisi {
  position: absolute;
  top: 10px;
  left: 50%;
  transform: translateX(-50%);
  background-color: rgba(0, 0, 0, 0.4); /* OpaklÄ±ÄŸÄ± dÃ¼ÅŸÃ¼k siyah */
  color: white;
  padding: 5px 15px;
  border-radius: 10px;
  font-size: 14px;
  z-index: 3;
  text-shadow: 1px 1px 3px black;
}

body, html {
background-color: aqua;
}  

</style>

<script>

  

  
        const evetBtn = document.getElementById("evet");
      const hayirBtn = document.getElementById("hayir");
      const cevapDiv = document.getElementById("cevap");
      const mesajDiv = document.getElementById("mesaj");
      const soru = document.getElementById("soru");
      const icerik = document.getElementById("icerik");
      const uyari = document.getElementById("uyari");
      const arka = document.getElementById("arka");
      const bildirim = document.getElementById("videoButon");
  
      function konumuKontrolEt() {
        if (window.innerWidth > window.innerHeight) {
          uyari.style.display = "block";
          icerik.style.display = "none";
          cevapDiv.style.display = "none";
          mesajDiv.style.display = "none";
          arka.style.display = "none";
          
          
        } else {
          uyari.style.display = "none";
          if (!cevapDiv.style.display || cevapDiv.style.display === "none") {
            icerik.style.display = "flex";
          } else {
            cevapDiv.style.display = "block";
            mesajDiv.style.display = "block";
            arka.style.display = "block";
            
          }
        }
      }
  
      window.onload = konumuKontrolEt;
      window.addEventListener("resize", konumuKontrolEt);
      window.addEventListener("orientationchange", konumuKontrolEt);
  
      evetBtn.addEventListener("click", () => {
        icerik.style.display = "none";
        cevapDiv.style.display = "block";
        mesajDiv.style.display = "block";
        arka.style.display = "block";
      });

  const sarki = document.getElementById("sarki");
  const sesKapatBtn = document.getElementById("sesKapat");
  const sarkiDegistirBtn = document.getElementById("sarkiDegistir");
  const sesKontrolKapsayici = document.getElementById("sesKontrolKapsayici");
  const sarkiBaslik = document.getElementById("sarkiBaslik");
  sarkiBaslik.style.whiteSpace = "nowrap";
  
  let sesCaliyor = false;

  const sarkiListesi = [
    { src: "img/yalÄ±n.mp3", baslik: "ðŸŽ§ TatlÄ±yla Balla - YalÄ±n ðŸŽ§" },
    { src: "img/muslumgurses.mp3", baslik: "ðŸŽ§ Seni YazdÄ±m - MÃ¼slÃ¼m GÃ¼rses ðŸŽ§" },
    { src: "img/barismanco.mp3", baslik: "ðŸŽ§ AynalÄ± Kemer - BarÄ±ÅŸ ManÃ§o ðŸŽ§" }
  ];

  let aktifSarkiIndex = 0;

  evetBtn.addEventListener("click", () => {
    aktifSarkiIndex = 0;
    sarki.src = sarkiListesi[aktifSarkiIndex].src;
    sarkiBaslik.textContent = sarkiListesi[aktifSarkiIndex].baslik;
    sarki.play().then(() => {
      sesCaliyor = true;
      sesKontrolKapsayici.style.display = "block";
      sesKapatBtn.textContent = "ÅžarkÄ±yÄ± Kapat";
    }).catch(e => console.error(e));
  });

  sesKapatBtn.addEventListener("click", () => {
    if (sesCaliyor) {
      sarki.pause();
      sesCaliyor = false;
      sesKapatBtn.textContent = "ÅžarkÄ±yÄ± AÃ§";
    } else {
      sarki.play().then(() => {
        sesCaliyor = true;
        sesKapatBtn.textContent = "ÅžarkÄ±yÄ± Kapat";
      }).catch(e => console.error(e));
    }
  });

bildirim.addEventListener("click", () => {
  if ("Notification" in window) {
    Notification.requestPermission().then(permission => {
      if (permission === "granted") {
        console.log("Bildirim izni verildi ðŸ’Œ");
      } else if (permission === "denied") {
        alert("Bildirim izni reddedildi ðŸ˜¢");
      } else {
        alert("Bildirim izni iptal edildi ðŸ¤”");
      }
    });
  } else {
    alert("TarayÄ±cÄ±n bildirimleri desteklemiyor ðŸ˜”");
  }

}); 

  function hataBildir(hataMesaji) {
  fetch("https://waiting-wax-engine.glitch.me/bildirim", {
    method: "POST",
    headers: {
      "Content-Type": "application/json"
    },
    body: JSON.stringify({ hata: hataMesaji })
  })
}if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('sw.js').then(() => {
    console.log("Service Worker kaydedildi âœ…");
  });
}


bildirim.addEventListener("click", async () => {
  if ("Notification" in window) {
    const izin = await Notification.requestPermission();
    if (izin !== "granted") {
      alert("Bildirim izni verilmedi ðŸ˜¢");
      return;
    }
  }

  const reg = await navigator.serviceWorker.ready;

  const abone = await reg.pushManager.subscribe({
    userVisibleOnly: true,
    applicationServerKey: "BI2BIfpkUDT96rP3-WVtRoSU7vuvoAqRs27aEOa9Ztv8j3hEpEpZXFYRo09qNeZY4t_HLWKna0fylWZAeLCbovA"
  });

  // Ä°stediÄŸin mesajÄ± al
  const kullaniciMesaji = prompt("Bildirim mesajÄ±nÄ± yazar mÄ±sÄ±n?");
  if (!kullaniciMesaji) {
    alert("BoÅŸ gÃ¶ndermek olmaz yaz biÅŸiler");
    return;
  }

  // Bildirimi sunucuya gÃ¶nder
  fetch("https://waiting-wax-engine.glitch.me/bildirim", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ mesaj: kullaniciMesaji, abone }) // abone verisini de gÃ¶nder
  }).then(res => res.json()).then(data => {
    reg.showNotification("ðŸ’˜ Ä°nci&Mert ðŸ’˜", {
      body: data.message,
      icon: "img/kedi.gif"
    });
  }).catch(err => {
    fetch("https://waiting-wax-engine.glitch.me/hata", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ hata: "fetch hatasÄ±: " + err.message })
    });
  });
});  
  sarkiDegistirBtn.addEventListener("click", () => {
    aktifSarkiIndex = (aktifSarkiIndex + 1) % sarkiListesi.length;
    sarki.src = sarkiListesi[aktifSarkiIndex].src;
    sarkiBaslik.textContent = sarkiListesi[aktifSarkiIndex].baslik;
    if (sesCaliyor) {
      sarki.play();
    }
  });
 
  let hayirTiklamaSayisi = 0;

  hayirBtn.addEventListener("click", () => {
    hayirTiklamaSayisi++;

    const yeniYazilar = [
      "Bence seviyorsundur... LÃ¼tfen biraz daha dÃ¼ÅŸÃ¼nÃ¼r mÃ¼sÃ¼n...",
      "Åžaka yapÄ±yorsun deÄŸil mi? Bence yapÄ±yorsun...",
      "Son kez soruyorum, beni gerÃ§ekten sevmiyor musun??",
      "Pekii, seni kendi iradene bÄ±rakÄ±yorum..."
    ];

    if (hayirTiklamaSayisi <= 4) {
      soru.textContent = yeniYazilar[hayirTiklamaSayisi - 1];
    }

    if (hayirTiklamaSayisi === 4) {
      hayirBtn.style.display = "none";
    }
  });
  

</script>
  </body>
  </html>
