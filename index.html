<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mert&ƒ∞nci</title>
  <style>
    html, body {
      height: 100%;
      margin: 0;
      background: linear-gradient(180deg, aqua 0%, darkblue 100%);
      background-attachment: fixed;
      background-repeat: no-repeat;
      background-size: cover;
      font-family: Arial, sans-serif;
    }

    .marquee-container {
      width: 100%;
      overflow: hidden;
      white-space: nowrap;
      box-sizing: border-box;
      padding: 10px 0;
      background: rgba(0, 0, 0, 0.6);
      position: absolute;
      top: 0;
      left: 0;
      z-index: 9999;
    }

    .marquee-text {
      display: inline-block;
      padding-left: 100%;
      animation: marquee 15s linear infinite;
      font-size: 20px;
      font-weight: bold;
      color: aqua;
    }

    @keyframes marquee {
      from { transform: translateX(0); }
      to { transform: translateX(-100%); }
    }

    .announcement-section {
      width: 100%;
      margin-top: 50px;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .nav-button {
      width: 40px;
      height: 400px;
      background-color: rgba(0, 0, 0, 0.6);
      color: white;
      font-size: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      user-select: none;
      position: relative;
      z-index: 2;
    }

    .slider {
      width: 100%;
      max-width: 400px;
      height: 400px;
      overflow: hidden;
      position: relative;
    }

    .slides {
      display: flex;
      transition: transform 0.5s ease-in-out;
      width: 100%;
    }

    .slide {
      flex: 0 0 100%;
      height: 400px;
      position: relative;
    }

    .slide img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      aspect-ratio: 1 / 1;
    }

    .caption {
      position: absolute;
      bottom: 0;
      width: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      color: white;
      text-align: center;
      padding: 10px;
      font-size: 16px;
    }

    .categories {
      margin-top: 50px;
      display: flex;
      justify-content: center;
      gap: 20px;
    }

    .category {
      position: relative;
      width: 120px;
      height: 120px;
      border: 3px solid aqua;
      border-radius: 5px;
      overflow: hidden;
      cursor: pointer;
    }

    .category img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .category-name {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: white;
      font-weight: bold;
      font-size: 16px;
      text-align: center;
      pointer-events: none;
      text-shadow: -1px -1px 0 #000, 1px -1px 0 #000,
                   -1px 1px 0 #000, 1px 1px 0 #000;
      user-select: none;
    }

    .spotify-player {
      margin: 30px auto;
      width: 400px;
    }

    @media (max-width: 400px) {
      .spotify-player {
        width: 100%;
      }
    }

    /* Modal Stilleri */
        .modal-overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      background-color: rgba(0, 0, 0, 0.6);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 99999;
    }

    .modal-content {
      background-color: white;
      border-radius: 10px;
      padding: 30px;
      width: 80%;
      max-width: 400px;
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.3);
      position: relative;
      transform: scale(0.8);
      opacity: 0;
      animation: modalOpen 0.4s ease forwards;
      user-select: none;
    }

    @keyframes modalOpen {
      to {
        transform: scale(1);
        opacity: 1;
      }
    }

    .close-button {
      position: absolute;
      top: 10px;
      right: 15px;
      font-size: 24px;
      color: black;
      cursor: pointer;
    }

    /* Alt kategori sekmesi i√ßin stil */
    .subcategory-tabs {
      display: flex;
      justify-content: center;
      gap: 40px;
      margin-bottom: 20px;
      position: relative;
      border-bottom: 2px solid #ccc;
    }

    .subcategory {
      font-weight: bold;
      font-size: 18px;
      color: #444;
      padding-bottom: 5px;
      cursor: pointer;
      position: relative;
    }

    .subcategory.active {
      color: black;
    }

    .underline {
      position: absolute;
      bottom: -2px;
      height: 3px;
      width: 50px;
      background-color: black;
      border-radius: 2px;
      transition: left 0.3s ease;
    }

    .modal-text {
      font-size: 16px;
      color: #222;
      line-height: 1.4;
      text-align: center;
      min-height: 80px;
    }
  </style>
</head>
<body>

<div class="marquee-container">
  <div class="marquee-text">
    MERT ‚ù§Ô∏è ƒ∞NCƒ∞ ‚Äî Bizim sevgimiz Ferrari, sizinkisi taksitle alƒ±nmƒ±≈ü vosvos! üêß‚ù§Ô∏è 19.09.2024
  </div>
</div>

<div class="announcement-section">
  <div class="nav-button" onclick="prevSlide()">&lt;</div>
  <div class="slider">
    <div class="slides" id="slides">
      <div class="slide">
        <img src="img/pengu.jpg" alt="Duyuru 1" />
        <div class="caption">üêßPENG√úüêß</div>
      </div>
      <div class="slide">
        <img src="img/favfoto.PNG" alt="Duyuru 2" />
        <div class="caption" id="love-counter-caption"></div>
      </div>
      <div class="slide">
        <img src="img/ilkfoto.jpg" alt="Duyuru 3" />
        <div class="caption">ƒ∞lk Bulu≈ümamƒ±z ‚ù§Ô∏è</div>
      </div>
    </div>
  </div>
  <div class="nav-button" onclick="nextSlide()">&gt;</div>
</div>

<div class="categories">
  <div class="category" onclick="openModal()">
    <img src="img/incimerdo.jpg" alt="Kategori 1" />
    <span class="category-name">MERT&ƒ∞NCUUU</span>
  </div>
  <div class="category">
    <img src="img/elis.jpg" alt="Kategori 2" />
    <span class="category-name">JOJUGLARIMIZ</span>
  </div>
  <div class="category" onclick="location.href='login.html'">
    <img src="img/secret.jpg" alt="SECRET!!" />
    <span class="category-name">SECRET!!</span>
  </div>
</div>

<div class="spotify-player">
  <iframe 
    src="https://open.spotify.com/embed/playlist/3njrGDt15AkuWoZVcvw7SS"
    width="400" 
    height="300" 
    frameborder="0" 
    allowtransparency="true"  
    allow="encrypted-media">
  </iframe>
</div>

<div id="modalOverlay" class="modal-overlay" onclick="closeModal(event)">
  <div class="modal-content" onclick="event.stopPropagation()">
    <span class="close-button" onclick="closeModal(event)">√ó</span>

    <div class="subcategory-tabs" id="subcategoryTabs">
      <div class="subcategory active" data-name="mert" onclick="selectSubcategory(event)">Mert</div>
      <div class="subcategory" data-name="inci" onclick="selectSubcategory(event)">ƒ∞nci</div>
      <div class="underline" id="underline"></div>
    </div>

    <div class="modal-text" id="modalText">
       Coming Soon
    </div>
  </div>
</div>

<script>
  const slides = document.getElementById('slides');
  const slideCount = slides.children.length;
  let index = 0;
  let interval = setInterval(nextSlide, 10000);

  function getSlideWidth() {
    return document.querySelector('.slider').clientWidth;
  }

  function showSlide(i) {
    index = (i + slideCount) % slideCount;
    const slideWidth = getSlideWidth();
    slides.style.transform = `translateX(-${index * slideWidth}px)`;
  }

  function nextSlide() {
    showSlide(index + 1);
  }

  function prevSlide() {
    showSlide(index - 1);
  }

  window.addEventListener("resize", () => {
    showSlide(index);
  });

  function updateLoveCounter() {
    const startDate = new Date("2024-09-19T00:20:34");
    const now = new Date();
    let diff = now - startDate;

    const seconds = Math.floor(diff / 1000);
    const minutes = Math.floor(seconds / 60);
    const hours = Math.floor(minutes / 60);
    const days = Math.floor(hours / 24);
    const months = Math.floor(days / 30.4375);
    const remainingDays = Math.floor(days % 30.4375);

    const display = `${months} ay, ${remainingDays} g√ºn, ${hours % 24} saat, ${minutes % 60} dakika, ${seconds % 60} saniye ‚ù§Ô∏è`;
    const el = document.getElementById("love-counter-caption");
    if (el) el.textContent = display;
  }

  setInterval(updateLoveCounter, 1000);
  updateLoveCounter();

  function openModal() {
    const modal = document.getElementById('modalOverlay');
    modal.style.display = 'flex';
    // ƒ∞lk a√ßƒ±lƒ±≈üta "Mert" se√ßili olsun, alt √ßizgi pozisyonu ayarlansƒ±n
    setTimeout(() => {
      moveUnderlineToActive();
    }, 10);
  }

  function closeModal(event) {
    const modal = document.getElementById('modalOverlay');
    if (event.target === modal || event.target.classList.contains('close-button')) {
      modal.style.display = 'none';
    }
  }

  // Alt kategori se√ßimi
  function selectSubcategory(event) {
    const clicked = event.target;
    if (!clicked.classList.contains('subcategory')) return;

    const tabs = document.querySelectorAll('.subcategory');
    tabs.forEach(tab => tab.classList.remove('active'));
    clicked.classList.add('active');

    moveUnderlineToActive();

    const name = clicked.getAttribute('data-name');
    const modalText = document.getElementById('modalText');

    if(name === 'mert') {
      modalText.textContent = "Coming Soon";
    } else if(name === 'inci') {
      modalText.textContent = "√áOK√áOK√áOK YAKINDAAAA";
    }
  }

  // Alt √ßizgiyi aktif sekmenin altƒ±na kaydƒ±rma
  function moveUnderlineToActive() {
    const activeTab = document.querySelector('.subcategory.active');
    const underline = document.getElementById('underline');
    if (!activeTab || !underline) return;

    // activeTab'ƒ±n konumunu, .subcategory-tabs i√ßindeki offset olarak al
    const container = document.getElementById('subcategoryTabs');
    const containerRect = container.getBoundingClientRect();
    const activeRect = activeTab.getBoundingClientRect();

    const left = activeRect.left - containerRect.left + (activeRect.width - underline.offsetWidth)/2;
    underline.style.left = left + 'px';
  }

  window.addEventListener('resize', () => {
    moveUnderlineToActive();
  });
</script>

</body>
</html>
